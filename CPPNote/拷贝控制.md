# 拷贝控制

## 拷贝控制操作
+ 拷贝构造函数和移动构造函数: 定义了当用同类型的另一个对象初始化本对象时做什么
+ 拷贝和移动复制运算符: 定义了将一个对象赋予同类型的另外一个对象时做什么
+ 析构函数: 定义了当此类型对象销毁时做什么

## 拷贝构造函数

+ ```拷贝初始化```通常使用拷贝构造函数来完成
+ 但如果一个类有一个移动构造函数, 则有时候会使用移动构造函数来完成
+ 如果类```未定义拷贝构造函数```, 编译器会为我们定义一个

何时会发生拷贝构造函数:

+ 使用```=```定义变量
+ 将一个对象作为实参传递给一个非引用类型的形参 -> ```Foo(const Foo&)```拷贝构造函数为什么是引用的问题
+ 从一个返回类型为非引用类型的函数返回一个对象
+ 从花括号列表初始化一个数组中的元素或一个聚合类的成员

使用```explicit```限制拷贝构造函数:
```cpp
void f(std::vector<int>);
f(10);//错误: 不能用一个explicit的构造函数拷贝一个实参
f(vector<int>(10));//正确: 从一个int直接构造一个临时vector
```

## 拷贝复制运算符

重载运算符本质上是函数.如果类```未定义拷贝复制运算符```, 编译器会为我们定义一个.

## 析构函数

+ 释放所使用的资源, 并销毁对象的非static数据成员
+ 一个类只有唯一一个析构函数
+ 在构造函数中, 成员的初始化实在函数体执行之前完成的, 且按照它们在类中出现的顺序进行初始化
+ 析构函数首先执行函数体, 然后销毁成员, 成员按照初始化顺序的逆序销毁

